<husk:Page xmlns="https://github.com/avaloniaui"
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
           xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
           xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
           xmlns:husk="https://github.com/d3ara1n/Huskui.Avalonia"
           xmlns:icons="https://github.com/MahApps/IconPacks.Avalonia"
           xmlns:controls="using:Polymerium.App.Controls"
           xmlns:vm="using:Polymerium.App.ViewModels"
           xmlns:m="using:Polymerium.App.Models"
           xmlns:cp="clr-namespace:Polymerium.App.Components"
           mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
           x:Class="Polymerium.App.Views.SettingsView" Header="Application Settings" x:DataType="vm:SettingsViewModel">
    <StackPanel MaxWidth="1440" Spacing="12" Margin="24">
        <controls:SettingsEntry Title="Super Power" Icon="Wand" Summary="味大，我为自己带盐">
            <controls:SettingsEntryItem Header="Activate">
                <ToggleSwitch IsChecked="{Binding SuperPowerActivated,Mode=TwoWay}" />
            </controls:SettingsEntryItem>
        </controls:SettingsEntry>
        <husk:Divider />
        <controls:SettingsEntry Icon="LocalLanguage" Title="Display and Appearance"
                                Summary="The look, the language, the font">
            <controls:SettingsEntryItem Header="Sidebar Placement">
                <TabStrip SelectedIndex="{Binding SidebarPlacement,Mode=TwoWay}">
                    <TabStripItem>
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <icons:PackIconLucide Kind="PanelLeft" Height="{StaticResource MediumFontSize}"
                                                  Width="{StaticResource MediumFontSize}" VerticalAlignment="Center" />
                            <husk:Divider Orientation="Vertical" />
                            <TextBlock Text="Left" VerticalAlignment="Center" />
                        </StackPanel>
                    </TabStripItem>
                    <TabStripItem>
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <TextBlock Text="Right" VerticalAlignment="Center" />
                            <husk:Divider Orientation="Vertical" />
                            <icons:PackIconLucide Kind="PanelRight" Height="{StaticResource MediumFontSize}"
                                                  Width="{StaticResource MediumFontSize}" VerticalAlignment="Center" />
                        </StackPanel>
                    </TabStripItem>
                </TabStrip>
            </controls:SettingsEntryItem>
            <controls:SettingsEntryItem Header="Theme Variant" HorizontalContentAlignment="Left">
                <TabStrip Theme="{StaticResource SegmentedTabStripTheme}"
                          SelectedIndex="{Binding DarkMode,Mode=TwoWay}" AutoScrollToSelectedItem="False">
                    <TabStripItem>
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <icons:PackIconLucide Kind="SunMoon" VerticalAlignment="Center"
                                                  Height="{StaticResource MediumFontSize}"
                                                  Width="{StaticResource MediumFontSize}" />
                            <TextBlock Text="System" />
                        </StackPanel>
                    </TabStripItem>
                    <TabStripItem>
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <icons:PackIconLucide Kind="Sun" VerticalAlignment="Center"
                                                  Height="{StaticResource MediumFontSize}"
                                                  Width="{StaticResource MediumFontSize}" />
                            <TextBlock Text="Light" />
                        </StackPanel>
                    </TabStripItem>
                    <TabStripItem>
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <icons:PackIconLucide Kind="Moon" VerticalAlignment="Center"
                                                  Height="{StaticResource MediumFontSize}"
                                                  Width="{StaticResource MediumFontSize}" />
                            <TextBlock Text="Dark" />
                        </StackPanel>
                    </TabStripItem>
                </TabStrip>
            </controls:SettingsEntryItem>
            <controls:SettingsEntryItem Header="Background Style">
                <ComboBox SelectedIndex="{Binding BackgroundMode,Mode=TwoWay}">
                    <ComboBoxItem Content="Auto" />
                    <ComboBoxItem Content="Mica" IsEnabled="{OnPlatform {x:False},Windows={x:True}}" />
                    <ComboBoxItem Content="Acrylic" IsEnabled="{OnPlatform {x:False},Windows={x:True}}" />
                    <ComboBoxItem Content="Blur" IsEnabled="{OnPlatform {x:False},macOS={x:True}}" />
                    <ComboBoxItem Content="None" />
                </ComboBox>
            </controls:SettingsEntryItem>
            <controls:SettingsEntryItem Header="Language">
                <ComboBox ItemsSource="{Binding Languages}" SelectedItem="{Binding Language,Mode=TwoWay}">
                    <ComboBox.ItemTemplate>
                        <DataTemplate DataType="m:LanguageModel">
                            <Grid ColumnDefinitions="*,4,Auto">
                                <TextBlock Grid.Column="0" Text="{Binding Display}" VerticalAlignment="Center" />
                                <husk:Tag Grid.Column="2" Classes="Small" VerticalAlignment="Center">
                                    <TextBlock Text="{Binding Id}" />
                                </husk:Tag>
                            </Grid>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </controls:SettingsEntryItem>
            <controls:SettingsEntryItem Header="Font">
                <TextBox Watermark="(Builtin)" IsEnabled="False" />
            </controls:SettingsEntryItem>
        </controls:SettingsEntry>
        <husk:Divider />
        <controls:SettingsEntry Icon="DrinkCoffee" Title="Java Presets"
                                Summary="Instance will select the best match while launching">
            <controls:SettingsEntryItem Header="Java Home 8">
                <cp:JavaHomeContainer Home="{Binding JavaHome8,Mode=TwoWay}" OverlayService="{Binding OverlayService}" />
            </controls:SettingsEntryItem>
            <controls:SettingsEntryItem Header="Java Home 11">
                <cp:JavaHomeContainer Home="{Binding JavaHome11,Mode=TwoWay}" OverlayService="{Binding OverlayService}" />
            </controls:SettingsEntryItem>
            <controls:SettingsEntryItem Header="Java Home 16">
                <cp:JavaHomeContainer Home="{Binding JavaHome16,Mode=TwoWay}" OverlayService="{Binding OverlayService}" />
            </controls:SettingsEntryItem>
            <controls:SettingsEntryItem Header="Java Home 17">
                <cp:JavaHomeContainer Home="{Binding JavaHome17,Mode=TwoWay}" OverlayService="{Binding OverlayService}" />
            </controls:SettingsEntryItem>
            <controls:SettingsEntryItem Header="Java Home 21">
                <cp:JavaHomeContainer Home="{Binding JavaHome21,Mode=TwoWay}" OverlayService="{Binding OverlayService}" />
            </controls:SettingsEntryItem>
        </controls:SettingsEntry>
        <husk:Divider />
        <controls:SettingsEntry Icon="Joystick" Title="Game Defaults"
                                Summary="The listing configuration can be override by the instance individually">
            <controls:SettingsEntryItem Header="Java Max Memory">
                <TextBox Watermark="Bigger is better" Text="{Binding JavaMaxMemory,Mode=TwoWay}">
                    <TextBox.InnerRightContent>
                        <StackPanel Orientation="Horizontal">
                            <husk:Divider Orientation="Vertical" />
                            <TextBlock Text="MiB" Foreground="{StaticResource ControlSecondaryForegroundBrush}"
                                       Margin="8,0" VerticalAlignment="Center" />
                        </StackPanel>
                    </TextBox.InnerRightContent>
                </TextBox>
            </controls:SettingsEntryItem>
            <controls:SettingsEntryItem Header="Java Additional Arguments">
                <TextBox Watermark="Less is more" Text="{Binding JavaAdditionalArguments,Mode=TwoWay}" />
            </controls:SettingsEntryItem>
            <controls:SettingsEntryItem Header="Window Initial Size">
                <Grid ColumnDefinitions="*,7,*">
                    <TextBox Grid.Column="0" Watermark="1270" Text="{Binding WindowInitialHeight,Mode=TwoWay}">
                        <TextBox.InnerLeftContent>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Width" Foreground="{StaticResource ControlSecondaryForegroundBrush}"
                                           Margin="8,0" VerticalAlignment="Center" />
                                <husk:Divider Orientation="Vertical" />
                            </StackPanel>
                        </TextBox.InnerLeftContent>
                    </TextBox>
                    <TextBox Grid.Column="2" Watermark="720" Text="{Binding WindowInitialWidth,Mode=TwoWay}">
                        <TextBox.InnerLeftContent>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Height" Foreground="{StaticResource ControlSecondaryForegroundBrush}"
                                           Margin="8,0" VerticalAlignment="Center" />
                                <husk:Divider Orientation="Vertical" />
                            </StackPanel>
                        </TextBox.InnerLeftContent>
                    </TextBox>
                </Grid>
            </controls:SettingsEntryItem>
        </controls:SettingsEntry>
        <husk:Divider />
        <Panel>
            <husk:ConstrainedBox HorizontalAlignment="Right" AspectRatio="0.6840277777777778"
                                 Height="{Binding #LinksPanel.Bounds.Height}">
                <Border CornerRadius="{StaticResource MediumCornerRadius}"
                        RenderOptions.BitmapInterpolationMode="HighQuality"
                        Background="{DynamicResource SettingsImageBrush}" />
            </husk:ConstrainedBox>
            <StackPanel Name="LinksPanel" Spacing="2">
                <TextBlock ClipToBounds="False">
                    <Run Text="Source Code:" />
                    <HyperlinkButton Content="GitHub" NavigateUri="https://github.com/d3ara1n/Polymerium" />
                    <Run Text="License:" />
                    <HyperlinkButton Content="MIT"
                                     NavigateUri="https://github.com/d3ara1n/Polymerium/blob/master/LICENSE.txt" />
                </TextBlock>
                <TextBlock ClipToBounds="False">
                    <Run Text="Image in the Settings Page:" />
                    <HyperlinkButton Content="Pixiv#126997360" NavigateUri="https://www.pixiv.net/artworks/126997360" />
                </TextBlock>
                <TextBlock ClipToBounds="False">
                    <Run Text="Architecture &amp; Engine:" />
                    <HyperlinkButton Content="Trident" NavigateUri="https://github.com/TridentCore/trident" />
                </TextBlock>
                <TextBlock ClipToBounds="False">
                    <Run Text="Platform Services:" />
                    <HyperlinkButton Content="PrismLauncher Meta" NavigateUri="https://meta.prismlauncher.org/" />
                    <HyperlinkButton Content="Starlight API" NavigateUri="https://docs.lunareclipse.studio/" />
                </TextBlock>
                <TextBlock ClipToBounds="False">
                    <Run Text="Repositories:" />
                    <HyperlinkButton Content="CurseForge" NavigateUri="https://docs.curseforge.com/" />
                    <HyperlinkButton Content="Modrinth" NavigateUri="https://docs.modrinth.com/" />
                </TextBlock>
                <TextBlock ClipToBounds="False">
                    <Run Text="Frontend Framework:" />
                    <HyperlinkButton Content="Avalonia" NavigateUri="https://avaloniaui.net" />
                </TextBlock>
                <TextBlock ClipToBounds="False">
                    <Run Text="Control Library:" />
                    <HyperlinkButton Content="Huskui" NavigateUri="https://github.com/d3ara1n/Huskui.Avalonia" />
                </TextBlock>
                <TextBlock ClipToBounds="False">
                    <Run Text="Color Palette:" />
                    <HyperlinkButton Content="Radix Colors" NavigateUri="https://www.radix-ui.com/colors" />
                </TextBlock>
                <TextBlock ClipToBounds="False">
                    <Run Text="Emoji:" />
                    <HyperlinkButton Content="Fluent Emoji" NavigateUri="https://github.com/microsoft/fluentui-emoji" />
                </TextBlock>
                <TextBlock ClipToBounds="False">
                    <Run Text="Icon Libraries:" />
                    <HyperlinkButton Content="Fluent Icons" NavigateUri="fluent2.microsoft.design/" />
                    <Run Text="(" />
                    <HyperlinkButton Content="FluentIcons.Avalonia"
                                     NavigateUri="https://github.com/davidxuang/FluentIcons" />
                    <Run Text=")" />
                    <Run Text="&amp;" />
                    <HyperlinkButton Content="Lucide Icons" NavigateUri="https://lucide.dev" />
                    <Run Text="(" />
                    <HyperlinkButton Content="IconPacks.Avalonia.Lucide"
                                     NavigateUri="https://github.com/MahApps/IconPacks.Avalonia" />
                    <Run Text=")" />
                </TextBlock>
            </StackPanel>
        </Panel>
        <husk:Divider />
        <StackPanel>
            <TextBlock Text="Disclaimer:" />
            <TextBlock Text="1. 作为 Advanced Instance Manager，Polymerium 仅提供功能，不提供任何服务，所使用的服务均来自第三方平台，日后也不会提供联机服务。"
                       TextWrapping="Wrap" />
            <TextBlock
                Text="2. Polymerium 为整合包创作者和整合包体验者设计，专门为游玩和编辑实例优化功能，为此引入了大量区别于传统的实例构建机制，这些机制可能会有极高的上手门槛，甚至会降低非目标用户的使用体验。"
                TextWrapping="Wrap" />
        </StackPanel>
        <StackPanel Orientation="Horizontal" Spacing="12">
            <Border Background="{DynamicResource SettingsAiBadgeEnglishImageBrush}"
                    Width="132"
                    Height="42" />
            <Border Background="{DynamicResource SettingsAiBadgeChineseImageBrush}"
                    Width="132"
                    Height="42" />
        </StackPanel>
    </StackPanel>
</husk:Page>