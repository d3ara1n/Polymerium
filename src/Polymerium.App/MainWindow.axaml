<husk:AppWindow xmlns="https://github.com/avaloniaui"
                xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                xmlns:local="using:Polymerium.App"
                xmlns:husk="https://github.com/d3ara1n/Huskui.Avalonia"
                xmlns:huskc="https://github.com/d3ara1n/Huskui.Avalonia/Converters"
                xmlns:m="using:Polymerium.App.Models"
                xmlns:icons="https://github.com/MahApps/IconPacks.Avalonia"
                xmlns:controls="using:Polymerium.App.Controls"
                TransparencyLevelHint="Mica, None"
                mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
                ExtendClientAreaTitleBarHeightHint="44"
                x:Class="Polymerium.App.MainWindow"
                Title="Polymerium" MinHeight="460" MinWidth="600" Height="600" Width="1024">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="83*" />
            <ColumnDefinition Width="27*" MaxWidth="400" MinWidth="200" />
        </Grid.ColumnDefinitions>
        <Panel Grid.Column="0">
            <StackPanel Opacity="{Binding #Root.Content, Converter={x:Static huskc:OpacityConverters.IsNull}}"
                        VerticalAlignment="Center">
                <StackPanel.Transitions>
                    <Transitions>
                        <DoubleTransition Property="Opacity" Easing="SineEaseOut"
                                          Duration="{StaticResource ControlNormalAnimationDuration}" />
                    </Transitions>
                </StackPanel.Transitions>
                <StackPanel.Effect>
                    <DropShadowEffect Opacity="0.1" BlurRadius="6" />
                </StackPanel.Effect>
                <Image Source="/Assets/Icons/Bird.png" Width="128" Height="128" HorizontalAlignment="Center" />
                <TextBlock Margin="48,12,48,12" Text="B-b-b-bird, bird, bird, b-bird's the word..."
                           TextAlignment="Center"
                           FontSize="24"
                           FontWeight="Bold"
                           TextWrapping="WrapWithOverflow" />
            </StackPanel>
            <husk:Frame x:Name="Root" CanGoBackOutOfStack="True" />
        </Panel>
        <Panel x:Name="Sidebar" Grid.Column="1">
            <DockPanel>
                <DockPanel DockPanel.Dock="Top">
                    <StackPanel DockPanel.Dock="Right">
                        <husk:ButtonGroup BorderThickness="0">
                            <Button x:Name="MinimizeButton" Click="MinimizeButton_OnClick" Padding="10">
                                <icons:PackIconLucide Kind="Minus" Height="10" Width="10" />
                            </Button>
                            <Button x:Name="ToggleMaximizeButton" Click="ToggleMaximizeButton_OnClick" Padding="10">
                                <icons:PackIconLucide Kind="Square" Height="10" Width="10" />
                            </Button>
                            <Button x:Name="CloseButton" Click="CloseButton_OnClick" Padding="10">
                                <icons:PackIconLucide Kind="X" Height="10" Width="10" />
                            </Button>
                        </husk:ButtonGroup>
                    </StackPanel>
                    <StackPanel Margin="9,12,12,12" Spacing="6" Orientation="Horizontal"
                                IsHitTestVisible="False">
                        <StackPanel.Effect>
                            <DropShadowEffect Opacity="0.1" BlurRadius="6" />
                        </StackPanel.Effect>
                        <!-- <Svg Path="/Assets/Logo.svg" Width="12" /> -->
                        <icons:PackIconLucide Kind="Squirrel" Width="12" />
                        <TextBlock Text="{Binding $parent[Window].Title, Mode=OneWay}"
                                   FontSize="{StaticResource SmallFontSize}" VerticalAlignment="Center" />
                    </StackPanel>
                </DockPanel>
                <Grid Margin="9,0,16,16" DockPanel.Dock="Top" ColumnDefinitions="Auto,8,*,8,Auto"
                      RowDefinitions="Auto,8,Auto,8,Auto,8,Auto,8,*,8,Auto,8,Auto">
                    <Button Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3" Height="48"
                            Click="NavigationButton_OnClick" Tag="UnknownView"
                            Theme="{StaticResource OutlineButtonTheme}">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <icons:PackIconLucide Kind="Import" Width="18" VerticalAlignment="Center" />
                            <TextBlock Text="Import" VerticalAlignment="Center" />
                        </StackPanel>
                    </Button>
                    <Button Grid.Row="0" Grid.Column="4" Height="48" Width="48"
                            Click="NavigationButton_OnClick" Tag="CreateInstanceView"
                            Theme="{StaticResource OutlineButtonTheme}">
                        <icons:PackIconLucide Kind="PackagePlus" Width="18" />
                    </Button>
                    <Button Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="5" Classes="Primary"
                            Click="NavigationButton_OnClick" Tag="ExhibitionWelcomeView"
                            Height="36">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <icons:PackIconLucide Kind="Store" Width="18" />
                            <TextBlock Text="Go to Exhibition" VerticalAlignment="Center" />
                        </StackPanel>
                    </Button>
                    <husk:Divider Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="5" />
                    <!-- <AutoCompleteBox/> -->
                    <TextBox Watermark="Filter entries by names..." Grid.Column="0" Grid.Row="6"
                             Grid.ColumnSpan="5" Text="{Binding $parent[local:MainWindow].FilterText,Mode=TwoWay}" />
                    <ScrollViewer Grid.Column="0" Grid.Row="8" Grid.ColumnSpan="5" Margin="0,0,-8,0">
                        <ItemsControl ItemsSource="{Binding $parent[local:MainWindow].View}" Margin="0,0,8,0">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate DataType="m:InstanceEntryModel">
                                    <controls:InstanceEntryButton Basic="{Binding Basic}" State="{Binding State}"
                                                                  Progress="{Binding Progress}"
                                                                  Command="{Binding $parent[local:MainWindow].ViewInstanceCommand}"
                                                                  CommandParameter="{Binding Basic.Key}" />
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Spacing="4" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                        </ItemsControl>
                    </ScrollViewer>
                    <husk:Divider Grid.Column="0" Grid.Row="10" Grid.ColumnSpan="5" />
                    <Button Grid.Column="0" Grid.Row="12" DockPanel.Dock="Left"
                            Theme="{StaticResource GhostButtonTheme}" Click="NavigationButton_OnClick" Tag="ApplicationSettingsView">
                        <icons:PackIconLucide Kind="Settings" Height="18" />
                    </Button>
                    <Button Grid.Column="2" Grid.Row="12" Grid.ColumnSpan="3" Click="NavigationButton_OnClick" Tag="42"
                            Theme="{StaticResource OutlineButtonTheme}">
                        Accounts
                    </Button>
                </Grid>
            </DockPanel>
        </Panel>
    </Grid>
</husk:AppWindow>