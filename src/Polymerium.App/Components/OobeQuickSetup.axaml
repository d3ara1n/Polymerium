<controls:OobeStep xmlns="https://github.com/avaloniaui"
                   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                   xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                   xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                   xmlns:controls="clr-namespace:Polymerium.App.Controls"
                   xmlns:components="clr-namespace:Polymerium.App.Components"
                   xmlns:models="clr-namespace:Polymerium.App.Models"
                   xmlns:husk="https://github.com/d3ara1n/Huskui.Avalonia"
                   xmlns:icons="https://github.com/MahApps/IconPacks.Avalonia"
                   xmlns:fi="clr-namespace:FluentIcons.Avalonia;assembly=FluentIcons.Avalonia"
                   xmlns:lang="https://github.com/d3ara1n/Polymerium/Languages"
                   mc:Ignorable="d" d:DesignWidth="520" d:DesignHeight="380"
                   x:Class="Polymerium.App.Components.OobeQuickSetup">
    <StackPanel Spacing="16" VerticalAlignment="Center" HorizontalAlignment="Stretch" Margin="24,0">
        <!-- Header -->
        <StackPanel Spacing="8" HorizontalAlignment="Center">
            <Border Background="{StaticResource ControlTranslucentFullBackgroundBrush}"
                    CornerRadius="32"
                    Width="64" Height="64"
                    HorizontalAlignment="Center">
                <fi:SymbolIcon Symbol="Settings"
                               FontSize="32"
                               Foreground="{StaticResource AccentFillColorDefaultBrush}"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center" />
            </Border>
            <TextBlock Text="{x:Static lang:Resources.OobeQuickSetup_Title}"
                       HorizontalAlignment="Center"
                       FontSize="{StaticResource LargeFontSize}"
                       FontWeight="{StaticResource ControlStrongFontWeight}" />
            <TextBlock Text="{x:Static lang:Resources.OobeQuickSetup_Subtitle}"
                       HorizontalAlignment="Center"
                       Foreground="{StaticResource ControlSecondaryForegroundBrush}" />
        </StackPanel>

        <!-- Settings Cards - Horizontal Layout -->
        <StackPanel Spacing="6">
            <!-- Language Card - Left/Right Layout -->
            <Border Background="{StaticResource ControlTranslucentFullBackgroundBrush}"
                    CornerRadius="{StaticResource MediumCornerRadius}"
                    Padding="12,10">
                <Grid ColumnDefinitions="Auto,8,Auto,*,Auto">
                    <fi:SymbolIcon Grid.Column="0"
                                   Symbol="LocalLanguage" FontSize="20"
                                   VerticalAlignment="Center" />
                    <TextBlock Grid.Column="2" VerticalAlignment="Center"
                               Text="{x:Static lang:Resources.OobeQuickSetup_LanguageLabel}"
                               FontWeight="{StaticResource ControlStrongFontWeight}" />
                    <StackPanel Grid.Column="4">
                        <ComboBox
                            ItemsSource="{Binding $parent[components:OobeQuickSetup].Languages}"
                            SelectedItem="{Binding $parent[components:OobeQuickSetup].SelectedLanguage,Mode=TwoWay}"
                            MinWidth="160">
                            <ComboBox.ItemTemplate>
                                <DataTemplate DataType="models:LanguageModel">
                                    <Grid ColumnDefinitions="*,4,Auto">
                                        <TextBlock Grid.Column="0" Text="{Binding Display}" VerticalAlignment="Center" />
                                        <husk:Tag Grid.Column="2" Classes="Small" VerticalAlignment="Center">
                                            <TextBlock Text="{Binding Id}" />
                                        </husk:Tag>
                                    </Grid>
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>
                        <TextBlock Text="{x:Static lang:Resources.SettingsView_RestartRequiredLabelText}"
                                   FontSize="{StaticResource SmallFontSize}"
                                   Foreground="{StaticResource ControlSecondaryForegroundBrush}" />
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Theme Card - Left/Right Layout -->
            <Border Background="{StaticResource ControlTranslucentFullBackgroundBrush}"
                    CornerRadius="{StaticResource MediumCornerRadius}"
                    Padding="12,10">
                <Grid ColumnDefinitions="Auto,8,Auto,*,Auto">
                    <fi:SymbolIcon Grid.Column="0"
                                   Symbol="DarkTheme" FontSize="20"
                                   VerticalAlignment="Center" />
                    <TextBlock Grid.Column="2"
                               Text="{x:Static lang:Resources.OobeQuickSetup_ThemeLabel}"
                               FontWeight="{StaticResource ControlStrongFontWeight}"
                               VerticalAlignment="Center" />
                    <TabStrip Grid.Column="4"
                              Theme="{StaticResource SegmentedTabStripTheme}"
                              SelectedIndex="{Binding $parent[components:OobeQuickSetup].DarkModeIndex,Mode=TwoWay}"
                              AutoScrollToSelectedItem="False">
                        <TabStripItem>
                            <StackPanel Orientation="Horizontal" Spacing="4">
                                <icons:PackIconLucide Kind="SunMoon" VerticalAlignment="Center"
                                                      Height="{StaticResource SmallFontSize}"
                                                      Width="{StaticResource SmallFontSize}" />
                                <TextBlock Text="{x:Static lang:Resources.SettingsView_ThemeVariantSystemText}"
                                           FontSize="{StaticResource SmallFontSize}" />
                            </StackPanel>
                        </TabStripItem>
                        <TabStripItem>
                            <StackPanel Orientation="Horizontal" Spacing="4">
                                <icons:PackIconLucide Kind="Sun" VerticalAlignment="Center"
                                                      Height="{StaticResource SmallFontSize}"
                                                      Width="{StaticResource SmallFontSize}" />
                                <TextBlock Text="{x:Static lang:Resources.SettingsView_ThemeVariantLightText}"
                                           FontSize="{StaticResource SmallFontSize}" />
                            </StackPanel>
                        </TabStripItem>
                        <TabStripItem>
                            <StackPanel Orientation="Horizontal" Spacing="4">
                                <icons:PackIconLucide Kind="Moon" VerticalAlignment="Center"
                                                      Height="{StaticResource SmallFontSize}"
                                                      Width="{StaticResource SmallFontSize}" />
                                <TextBlock Text="{x:Static lang:Resources.SettingsView_ThemeVariantDarkText}"
                                           FontSize="{StaticResource SmallFontSize}" />
                            </StackPanel>
                        </TabStripItem>
                    </TabStrip>
                </Grid>
            </Border>

            <!-- Accent Color Card - Left/Right Layout -->
            <Border Background="{StaticResource ControlTranslucentFullBackgroundBrush}"
                    CornerRadius="{StaticResource MediumCornerRadius}"
                    Padding="12,10">
                <Grid ColumnDefinitions="Auto,8,Auto,*,Auto">
                    <fi:SymbolIcon Grid.Column="0"
                                   Symbol="Color" FontSize="20"
                                   VerticalAlignment="Center" />
                    <TextBlock Grid.Column="2"
                               Text="{x:Static lang:Resources.OobeQuickSetup_AccentColorLabel}"
                               FontWeight="{StaticResource ControlStrongFontWeight}"
                               VerticalAlignment="Center" />
                    <ComboBox Grid.Column="4"
                              ItemsSource="{Binding $parent[components:OobeQuickSetup].AccentColors}"
                              SelectedItem="{Binding $parent[components:OobeQuickSetup].SelectedAccentColor,Mode=TwoWay}"
                              MinWidth="120">
                        <ComboBox.ItemTemplate>
                            <DataTemplate DataType="husk:AccentColor">
                                <TextBlock Text="{Binding}" />
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                </Grid>
            </Border>

            <!-- Proxy Card - Left/Right Layout -->
            <Border Background="{StaticResource ControlTranslucentFullBackgroundBrush}"
                    CornerRadius="{StaticResource MediumCornerRadius}"
                    Padding="12,10">
                <Grid ColumnDefinitions="Auto,8,Auto,*,Auto,8,Auto">
                    <fi:SymbolIcon Grid.Column="0"
                                   Symbol="Globe" FontSize="20"
                                   VerticalAlignment="Center" />
                    <TextBlock Grid.Column="2"
                               Text="{x:Static lang:Resources.OobeQuickSetup_ProxyLabel}"
                               FontWeight="{StaticResource ControlStrongFontWeight}"
                               VerticalAlignment="Center" />
                    <TextBlock Grid.Column="4"
                               Text="{Binding $parent[components:OobeQuickSetup].ProxyStatusText}"
                               Foreground="{StaticResource ControlSecondaryForegroundBrush}"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Right" />
                    <Button Grid.Column="6"
                            Theme="{StaticResource GhostButtonTheme}"
                            Classes="Small"
                            Command="{Binding $parent[components:OobeQuickSetup].OpenProxySettingsCommand}">
                        <fi:SymbolIcon Symbol="Settings" FontSize="{StaticResource SmallFontSize}" />
                    </Button>
                </Grid>
            </Border>
        </StackPanel>
    </StackPanel>
</controls:OobeStep>
