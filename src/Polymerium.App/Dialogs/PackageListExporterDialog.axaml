<husk:Dialog
    x:Class="Polymerium.App.Dialogs.PackageListExporterDialog"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:fi="clr-namespace:FluentIcons.Avalonia;assembly=FluentIcons.Avalonia"
    xmlns:husk="https://github.com/d3ara1n/Huskui.Avalonia"
    xmlns:lang="https://github.com/d3ara1n/Polymerium/Languages"
    xmlns:local="clr-namespace:Polymerium.App.Dialogs"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="{x:Static lang:Resources.ExportPackageListDialog_Title}"
    Width="300"
    IsPrimaryButtonVisible="True"
    Message="{x:Static lang:Resources.ExportPackageListDialog_Prompt}"
    mc:Ignorable="d">
    <StackPanel Spacing="12">
        <Border
            Padding="3"
            Background="{StaticResource ControlTranslucentFullBackgroundBrush}"
            CornerRadius="{StaticResource MediumCornerRadius}">
            <Border
                Padding="12"
                Background="{StaticResource OverlaySolidBackgroundBrush}"
                CornerRadius="{StaticResource SmallCornerRadius}">
                <StackPanel
                    HorizontalAlignment="Center"
                    Spacing="12">
                    <TextBlock>
                        <Run
                            FontSize="{StaticResource ExtraLargeFontSize}"
                            Text="{Binding $parent[local:PackageListExporterDialog].PackageCount, Mode=OneWay, FallbackValue=0}" />
                        <Run
                            Foreground="{StaticResource ControlSecondaryForegroundBrush}"
                            Text="{x:Static lang:Resources.ExportPackageListDialog_PackageCountLabelText}" />
                    </TextBlock>
                </StackPanel>
            </Border>
        </Border>
        <StackPanel Spacing="4">
            <TextBlock Text="{x:Static lang:Resources.ExportPackageListDialog_PathLabelText}" />
            <DockPanel HorizontalSpacing="8">
                <Button
                    Command="{Binding $parent[local:PackageListExporterDialog].BrowseCommand}"
                    DockPanel.Dock="Right">
                    <fi:SymbolIcon
                        HorizontalAlignment="Center"
                        FontSize="{StaticResource MediumFontSize}"
                        Symbol="MoreHorizontal" />
                </Button>
                <TextBox
                    Text="{Binding $parent[local:PackageListExporterDialog].Result, Mode=TwoWay}"
                    Watermark="{x:Static lang:Resources.ExportPackageListDialog_PathBarPlaceholder}" />
            </DockPanel>
        </StackPanel>
    </StackPanel>
</husk:Dialog>
